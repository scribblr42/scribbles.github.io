---
layout: post
title: Visualising my first ParkRun
date: '2016-10-26T07:47:00.000+01:00'
author: VizScribbler
tags:
- spatial
- visualisation
- tableau
- alteryx
- data viz
- parkrun
- quantified self
modified_time: '2016-10-26T07:47:10.596+01:00'
thumbnail: https://lh3.googleusercontent.com/-wGPNhpYDZuw/Vc5Ok9F_RnI/AAAAAAAAALk/8g05kBfQmQc/s72-w663-c-h884-p-rw/2015%2B-%2B1
blogger_id: tag:blogger.com,1999:blog-5138343082934398153.post-2027861854669096010
blogger_orig_url: https://vizscribbler.blogspot.com/2016/10/visualising-my-first-parkrun.html
---

<div><img alt="Ipswich parkrun" height="372" src="https://images.parkrun.com/event/ipswich/eventhomepagepicture.jpg" width="640" /></div><div><br /></div><div>Two weekends ago, I did my first&nbsp;<a href="https://www.parkrun.org.uk/" target="_blank">Parkrun</a>&nbsp;- Parkrun is a initiative which is 100% volunteer run &amp; takes place in a whole host of communities across the UK. I've been aware of it for sometime, but the trigger for me to actually go and take part in one was, of course, triggered by competition.<br /><div><br /></div><div><a href="https://lh3.googleusercontent.com/-wGPNhpYDZuw/Vc5Ok9F_RnI/AAAAAAAAALk/8g05kBfQmQc/w663-h884-p-rw/2015%2B-%2B1" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img alt="Photo" border="0" height="200" src="https://lh3.googleusercontent.com/-wGPNhpYDZuw/Vc5Ok9F_RnI/AAAAAAAAALk/8g05kBfQmQc/w663-h884-p-rw/2015%2B-%2B1" width="150" /></a>Now I'm not fit at all. Like not even slightly. Anyone who has done any kind of sport with me can testify to this.</div><div>And since doing an impromptu 10k last summer (which bloody hurt) I've not done a long run for a while, especially after buying a road bike in January.</div><div><br /></div><div>Anyway - Parkrun. It's a 5k route, and in Ipswich, it runs on Saturdays at 9:00am. So I got out of bed, cycled down (first mistake) and did a short warm up (second mistake) before deciding to start with a slow pace, before randomly speeding up midway through (third mistake).</div><div><br /></div><div>At the end, I was aching, but I made it up the final hill to the finish &amp; I was glad I did. I then cycled home (which also hurt) (The centre of Ipswich is fairly hilly, and the last leg before I get home is a steepish hill)</div><div><br /></div><div>Parkrun e-mail you your time, and you can compare yourself to other runners - I also use the Strava app, so I used that to track my run during the event as well. Now, of course, I wanted to visualise this. You can export Strava activities into .gpx files, and I simply copied and pasted the finisher table from the Parkrun Ipswich website.&nbsp;</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-P6gaX98Utiw/WA85LikNwZI/AAAAAAAABGQ/XbJBQRj4O5ACZAJanmK54IoWY24Zp1yaACLcB/s1600/Capture.PNG" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="239" src="https://2.bp.blogspot.com/-P6gaX98Utiw/WA85LikNwZI/AAAAAAAABGQ/XbJBQRj4O5ACZAJanmK54IoWY24Zp1yaACLcB/s320/Capture.PNG" width="320" /></a></div><div>The table was fine; the tricky part was the .gpx file, and whether it played nicely with Alteryx. To Google!</div><div><br /></div><div>I found that to use .gpx files, Alteryx needed to read it in as .xml files, and then you simply had to return the child values. (XML files seem scary, but once you understand them, they're actually kinda beautiful...)</div><div><br />So - The workflow for the .gpx files like this overall:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-ZQ4O0mKx9r8/WA-PBHRu2jI/AAAAAAAABGo/_Xc684zlOnQbFhKdIezOqKhawxpJfiT6wCLcB/s1600/Capture.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="150" src="https://1.bp.blogspot.com/-ZQ4O0mKx9r8/WA-PBHRu2jI/AAAAAAAABGo/_Xc684zlOnQbFhKdIezOqKhawxpJfiT6wCLcB/s640/Capture.PNG" width="640" /></a></div><br /><br />Let's break this down..<br />First up, I've configured the Input to read .gpx files like this:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-UX6zaA-XAEs/WBBOTWuO35I/AAAAAAAABHA/h-PsvEEU7v842WFr-Ktmx_U872Oa73sWgCLcB/s1600/1.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="186" src="https://2.bp.blogspot.com/-UX6zaA-XAEs/WBBOTWuO35I/AAAAAAAABHA/h-PsvEEU7v842WFr-Ktmx_U872Oa73sWgCLcB/s320/1.PNG" width="320" /></a></div><br /><br />This is followed by three Data Prep tools - They're relatively self-explanatory, but for reference, the formula I've used to split out the "T" and the "Z" (which come with the native .gpx file in the "time" field) is this:<br /><blockquote class="tr_bq">Substring([time],0,10) + ' ' + Substring([time],11,8)</blockquote></div><div>The next part is creating the spatial points with lat-lons - we're able to create the map without this using a hub and spoke, but using the spatial "create points" tool we can use the Centroid output to calculate the distance using the spatial tool which you can see here.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-G6v-mhcYiKY/WBBOmuKdfeI/AAAAAAAABHE/mb2m6IU0_gw3EfiUlgB3nmzqMttWyyagACEw/s1600/2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="246" src="https://2.bp.blogspot.com/-G6v-mhcYiKY/WBBOmuKdfeI/AAAAAAAABHE/mb2m6IU0_gw3EfiUlgB3nmzqMttWyyagACEw/s640/2.PNG" width="640" /></a></div><br /><br />I wasn't actually aware that you were able to integrate spatial formulas within an Alteryx workflow - so this was a great exercise to try new things. The running total &amp; re-join is to add tags for the "start", "finish" and middle points on the way.<br /><br />Finally, I added time as a factor to my dataset using seconds from the datetime field created from the formula tool which got rid of the T and the Z's<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-F2ui4OWyWf0/WBBPGKYBHAI/AAAAAAAABHM/hnq90ThbqvkWeyqxmmA6NxrppGFtUJX9QCLcB/s1600/3.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="370" src="https://2.bp.blogspot.com/-F2ui4OWyWf0/WBBPGKYBHAI/AAAAAAAABHM/hnq90ThbqvkWeyqxmmA6NxrppGFtUJX9QCLcB/s640/3.PNG" width="640" /></a></div><br /><br />The multi-row formula tool I used to split out the seconds was this<br /><br /><blockquote class="tr_bq"><blockquote class="tr_bq">IF [RecordID]=1 THEN 0 ELSE</blockquote><blockquote class="tr_bq">DateTimeDiff([DateTime],[Row-1:DateTime],"seconds") ENDIF</blockquote></blockquote><b>The Visualisation</b><br /><b><br /></b>When it came to visualising the data, I had a few ideas in my head - but this is where I have to give kudos to Ben Moss, Peter "Bambi" Gamble-Beresford, Lorna Eden, Ian Baldwin &amp; Elnisa Marques for the feedback and thoughts, even for the ideas I rejected.<br /><br />Check out the various iterations below (I lost one of the most radical ones as I forgot to screencap it!)<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://1.bp.blogspot.com/-9SRjlfG5nhU/WBBPPjMxTaI/AAAAAAAABHQ/tX3-DUhz1UMrLMJqy5zIZmWb_i0KCcJwACLcB/s1600/Capture2.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="204" src="https://1.bp.blogspot.com/-9SRjlfG5nhU/WBBPPjMxTaI/AAAAAAAABHQ/tX3-DUhz1UMrLMJqy5zIZmWb_i0KCcJwACLcB/s320/Capture2.PNG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://3.bp.blogspot.com/-nVT6QiQLqR0/WBBPQlpuxhI/AAAAAAAABHU/lg9jyl1zcAoL588nXRFwpfeSDxScwjjiQCLcB/s1600/Capture3.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="203" src="https://3.bp.blogspot.com/-nVT6QiQLqR0/WBBPQlpuxhI/AAAAAAAABHU/lg9jyl1zcAoL588nXRFwpfeSDxScwjjiQCLcB/s320/Capture3.PNG" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://2.bp.blogspot.com/-VKZQWeipTd0/WBBPQ8XuPaI/AAAAAAAABHY/cFkgivts4IsiRuGgT9VCUtvcPRcQ7bIhgCLcB/s1600/Capture4.PNG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="204" src="https://2.bp.blogspot.com/-VKZQWeipTd0/WBBPQ8XuPaI/AAAAAAAABHY/cFkgivts4IsiRuGgT9VCUtvcPRcQ7bIhgCLcB/s320/Capture4.PNG" width="320" /></a></div><br />Check out the finished visualisation below, or on Tableau Public here (<br /><br /><div class="tableauPlaceholder" id="viz1477463941471" style="position: relative;"><div style="text-align: center;"><noscript><a href='#'><img alt='Ipswich Parkrun15th October 2016 | Chantry Park | Ipswich, Suffolk ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;My&#47;MyFirstParkrunakaFindingMyRival&#47;MyFirstParkrunakaFindingMyRival&#47;1_rss.png' style='border: none' /></a></noscript><object class="tableauViz" style="display: none;"><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='site_root' value='' /><param name='name' value='MyFirstParkrunakaFindingMyRival&#47;MyFirstParkrunakaFindingMyRival' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;My&#47;MyFirstParkrunakaFindingMyRival&#47;MyFirstParkrunakaFindingMyRival&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /></object></div></div><script type="text/javascript">                    var divElement = document.getElementById('viz1477463941471');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='1104px';vizElement.style.height='769px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script></div></div>